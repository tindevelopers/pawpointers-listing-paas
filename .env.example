# =============================================================================
# Listing Platform - Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in the values
# 
# For local development:
#   1. Run `pnpm supabase start` to start local Supabase
#   2. Copy the output values below
#   3. Run `pnpm dev` to start development servers
# =============================================================================

# =============================================================================
# REQUIRED - Supabase Database & Auth
# =============================================================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api
# For local dev: Run `pnpm supabase start` and use the output values

NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# =============================================================================
# REQUIRED - Application URLs
# =============================================================================
# Update these for production deployment

NEXT_PUBLIC_API_URL=http://localhost:4000
NEXT_PUBLIC_SITE_URL=http://localhost:3001
NEXT_PUBLIC_ADMIN_URL=http://localhost:3000

# =============================================================================
# ROUTING STRATEGY
# =============================================================================
# Choose your URL structure:
#   - 'industry': yourplatform.com/[tenant]/listings/[slug]
#   - 'geographic': us.yourplatform.com/california/san-francisco/[slug]

ROUTING_STRATEGY=industry

# =============================================================================
# API SERVER
# =============================================================================

PORT=4000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# OPTIONAL - Payments (Stripe)
# =============================================================================
# Get these from: https://dashboard.stripe.com/apikeys

STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================================================
# OPTIONAL - Fast Search (Typesense)
# =============================================================================
# Get these from: https://cloud.typesense.org
# Without this, the platform uses Supabase full-text search

TYPESENSE_API_KEY=
TYPESENSE_HOST=
TYPESENSE_PORT=443
TYPESENSE_PROTOCOL=https

# =============================================================================
# OPTIONAL - AI Chatbot (OpenAI)
# =============================================================================
# Get this from: https://platform.openai.com/api-keys
# Without this, the chat widget is hidden

OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# =============================================================================
# OPTIONAL - Image Storage (Wasabi S3-Compatible)
# =============================================================================
# Get these from: https://wasabi.com
# Without this, use Supabase Storage or local storage

WASABI_ACCESS_KEY=
WASABI_SECRET_KEY=
WASABI_BUCKET=
WASABI_REGION=us-east-1
WASABI_ENDPOINT=https://s3.us-east-1.wasabisys.com

# CDN URL for serving images (optional but recommended)
NEXT_PUBLIC_CDN_URL=

# =============================================================================
# OPTIONAL - Cache Revalidation
# =============================================================================
# Used for on-demand ISR revalidation when content changes
# Generate a random string: openssl rand -hex 32

REVALIDATION_SECRET=
PORTAL_REVALIDATE_URL=http://localhost:3001/api/revalidate

# =============================================================================
# OPTIONAL - Supabase Webhooks
# =============================================================================
# Secret for verifying Supabase database webhooks
# Generate: openssl rand -hex 32

SUPABASE_WEBHOOK_SECRET=

# =============================================================================
# OPTIONAL - Maps (Mapbox)
# =============================================================================
# Get this from: https://www.mapbox.com/

NEXT_PUBLIC_MAPBOX_TOKEN=

# =============================================================================
# OPTIONAL - Analytics
# =============================================================================

NEXT_PUBLIC_GA_MEASUREMENT_ID=
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

NODE_ENV=development
